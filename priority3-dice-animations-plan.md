# üé≤ PRIORITY 3: DICE ANIMATIONS PLAN

## üéØ –¶–ï–õ–¨
–°–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫—É–±–∏–∫–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π tool calling

## üìã –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï
- ‚úÖ DiceRoller tool —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ AdvancedDice tool –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç advantage/disadvantage
- ‚úÖ GameChat –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç tool call —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ Frontend –ø–æ–ª—É—á–∞–µ—Ç tool calls –æ—Ç backend

## üé® –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–û–ï –†–ï–®–ï–ù–ò–ï (–∏–∑ Creative Phase)
**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: CSS –∞–Ω–∏–º–∞—Ü–∏–∏ + SVG —ç—Ñ—Ñ–µ–∫—Ç—ã
- CSS –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- SVG –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–∫—Ä–∞—Å–æ—Ç–∞)
- –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ style guide
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

## üöÄ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (1-1.5 —á–∞—Å–∞)

### –≠–¢–ê–ü 1: DiceAnimation –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (30 –º–∏–Ω)
```typescript
// frontend/src/components/DiceAnimation/DiceAnimation.tsx
interface DiceAnimationProps {
  type: 'd4' | 'd6' | 'd8' | 'd10' | 'd12' | 'd20';
  result: number;
  maxValue: number;
  isRolling: boolean;
  onComplete?: () => void;
}
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è –∫—É–±–∏–∫–∞ (CSS keyframes)
- –ü–æ–∫–∞–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Å–ø–µ—Ö (max value): –∑–æ–ª–æ—Ç–æ–π
  - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ—É–¥–∞—á–∞ (1): –∫—Ä–∞—Å–Ω—ã–π
  - –û–±—ã—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –±–µ–ª—ã–π/—Å–µ—Ä—ã–π

### –≠–¢–ê–ü 2: CSS –∞–Ω–∏–º–∞—Ü–∏–∏ (20 –º–∏–Ω)
```css
.dice-animation {
  /* 3D –≤—Ä–∞—â–µ–Ω–∏–µ –∫—É–±–∏–∫–∞ */
  animation: diceRoll 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform-style: preserve-3d;
}

@keyframes diceRoll {
  0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
  25% { transform: rotateX(180deg) rotateY(180deg) rotateZ(90deg); }
  50% { transform: rotateX(360deg) rotateY(360deg) rotateZ(180deg); }
  75% { transform: rotateX(540deg) rotateY(540deg) rotateZ(270deg); }
  100% { transform: rotateX(720deg) rotateY(720deg) rotateZ(360deg); }
}
```

### –≠–¢–ê–ü 3: SVG —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (20 –º–∏–Ω)
```typescript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
const CriticalEffect = ({ type }: { type: 'success' | 'failure' }) => {
  // SVG —á–∞—Å—Ç–∏—Ü—ã, –∏—Å–∫—Ä—ã, –ª—É—á–∏ —Å–≤–µ—Ç–∞
}
```

### –≠–¢–ê–ü 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GameChat (15 –º–∏–Ω)
```typescript
// –û–±–Ω–æ–≤–∏—Ç—å MessageComponent –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
const renderToolCall = (toolCall: ToolCallResult) => {
  if (toolCall.name === 'roll_dice' || toolCall.name === 'advanced_dice') {
    return <DiceAnimationDisplay toolCall={toolCall} />;
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ tool calls
}
```

### –≠–¢–ê–ü 5: –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, 10 –º–∏–Ω)
```typescript
// –ü—Ä–æ—Å—Ç—ã–µ –∑–≤—É–∫–∏ —á–µ—Ä–µ–∑ Web Audio API
const playDiceSound = (result: number, maxValue: number) => {
  if (result === maxValue) playSound('critical-success.mp3');
  else if (result === 1) playSound('critical-failure.mp3');
  else playSound('dice-roll.mp3');
}
```

## üìä –§–ê–ô–õ–´ –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø/–ò–ó–ú–ï–ù–ï–ù–ò–Ø

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `frontend/src/components/DiceAnimation/DiceAnimation.tsx`
- `frontend/src/components/DiceAnimation/DiceAnimation.module.css`
- `frontend/src/components/DiceAnimation/index.ts`

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:
- `frontend/src/components/GameChat/GameChat.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
- `frontend/src/types/index.ts` - —Ç–∏–ø—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π

## üéØ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò

### –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- [ ] DiceAnimation –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] CSS –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å tool calls
- [ ] –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- [ ] SVG —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è advantage/disadvantage
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å DiceRoller tool
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å AdvancedDice tool
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] Accessibility (motion-reduce –ø–æ–¥–¥–µ—Ä–∂–∫–∞)

## üöÄ –ü–†–û–ú–ü–¢ –î–õ–Ø –°–õ–ï–î–£–Æ–©–ï–ô –°–ï–°–°–ò–ò

```
–ü—Ä–∏–≤–µ—Ç! –ü—Ä–æ–¥–æ–ª–∂–∞—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É AI D&D Master –ø—Ä–æ–µ–∫—Ç–∞.

–°–¢–ê–¢–£–°: Phase 5 - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ê–Ω–∏–º–∞—Ü–∏–∏ –∫—É–±–∏–∫–æ–≤

–ó–ê–î–ê–ß–ê: –°–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫—É–±–∏–∫–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å tool calling —Å–∏—Å—Ç–µ–º–æ–π

–ü–õ–ê–ù –†–ê–ë–û–¢–´ (1-1.5 —á–∞—Å–∞):
1. –°–æ–∑–¥–∞—Ç—å DiceAnimation –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å CSS –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
2. –î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã) 
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å GameChat –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è tool calls
4. –î–æ–±–∞–≤–∏—Ç—å SVG —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ dice tools

–§–ê–ô–õ–´ –î–õ–Ø –ö–û–ù–¢–ï–ö–°–¢–ê:
- frontend/src/components/GameChat/GameChat.tsx (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π UI)
- backend/src/services/tools/diceRoller.ts (dice tool)
- backend/src/services/tools/advancedDice.ts (advanced dice tool)
- memory-bank/style-guide.md (—Ü–≤–µ—Ç–∞ –∏ —Å—Ç–∏–ª–∏)

–ê–†–•–ò–¢–ï–ö–¢–£–†–ê: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ CSS + SVG
- CSS –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- SVG –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (–∫—Ä–∞—Å–æ—Ç–∞)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π tool calling —Å–∏—Å—Ç–µ–º–æ–π

–¶–ï–õ–¨: –ö—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫—É–±–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ tool calls!
```

## ‚úÖ –ì–û–¢–û–í–û –ö –°–¢–ê–†–¢–£ –ü–†–ò–û–†–ò–¢–ï–¢–ê 3!
