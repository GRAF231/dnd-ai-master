# üìã –ó–ê–î–ê–ß–ò –ü–†–û–ï–ö–¢–ê: AI D&D Master Service

## üéØ –û–°–ù–û–í–ù–ê–Ø –¶–ï–õ–¨
–°–æ–∑–¥–∞—Ç—å MVP –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è D&D —Å –ò–ò-–º–∞—Å—Ç–µ—Ä–æ–º –¥–ª—è –∏–≥—Ä—ã —Å –¥—Ä—É–∑—å—è–º–∏

## üìä –£–†–û–í–ï–ù–¨ –°–õ–û–ñ–ù–û–°–¢–ò: Level 4 (Complex System)
- –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–≥–æ–ª–æ—Å + —Ç–µ–∫—Å—Ç + –ò–ò)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö API (LLM, WebRTC, TTS)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –°–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

## üß© –û–°–ù–û–í–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ (React/Next.js)
- [ ] –ö–æ–º–Ω–∞—Ç–∞ —Å –≥–æ–ª–æ—Å–æ–≤–æ–π —Å–≤—è–∑—å—é WebRTC
- [ ] –û–±—â–∏–π —á–∞—Ç —Å –ò–ò-–º–∞—Å—Ç–µ—Ä–æ–º
- [ ] –õ–∏—á–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤
- [ ] –ü–∞–Ω–µ–ª–∏: –°—Ü–µ–Ω–∞, –°–≤–æ–¥–∫–∞, –°—É—â–Ω–æ—Å—Ç–∏, –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞
- [ ] –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥ (/roll, /note, /gmk)

### 2. –ë—ç–∫–µ–Ω–¥ (Node.js/FastAPI)
- [x] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (/dm/reply, /dm/reply-stream, /dm/test)
- [ ] –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- [ ] –°—É–º–º–∞—Ä–∏–∑–∞—Ç–æ—Ä —Å—Ü–µ–Ω –∏ —Å–µ—Å—Å–∏–π
- [ ] WebRTC signaling —Å–µ—Ä–≤–µ—Ä
- [x] –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (tool calling)

### 3. –ò–ò-—Å–∏—Å—Ç–µ–º–∞
- [x] DM-–∞–≥–µ–Ω—Ç (Claude 3.5 Sonnet —á–µ—Ä–µ–∑ OpenRouter)
- [ ] –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã –∏–≥—Ä–æ–∫–æ–≤ (Claude 3.5 Sonnet-mini/Haiku)
- [ ] –°—É–º–º–∞—Ä–∏–∑–∞—Ç–æ—Ä (–º–∏–Ω–∏-–º–æ–¥–µ–ª—å)
- [x] –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### 4. –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏
- [ ] SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–¥–∫–∏
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π (–ø–µ—Ä—Å–æ–Ω–∞–∂–∏, –ª–æ–∫–∞—Ü–∏–∏, –∫–≤–µ—Å—Ç—ã)
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### 5. –ì–æ–ª–æ—Å–æ–≤–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞
- [ ] WebRTC mesh —Å–µ—Ç—å
- [ ] TURN —Å–µ—Ä–≤–µ—Ä (coturn)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è TTS –¥–ª—è –º–∞—Å—Ç–µ—Ä–∞

## üé® –ö–û–ú–ü–û–ù–ï–ù–¢–´ –¢–†–ï–ë–£–Æ–©–ò–ï CREATIVE PHASE
- [ ] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- [ ] –ü—Ä–æ–º–ø—Ç-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –¥–ª—è –ò–ò-–º–∞—Å—Ç–µ—Ä–∞
- [ ] UX –¥–∏–∑–∞–π–Ω –∏–≥—Ä–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [ ] –ê–ª–≥–æ—Ä–∏—Ç–º —Å–∂–∞—Ç–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ï –í–´–ó–û–í–´
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω-–±—é–¥–∂–µ—Ç–æ–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é API
- –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ò–ò-–æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ö–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–ª–∏–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π

## üìÖ –ü–õ–ê–ù –ü–û –§–ê–ó–ê–ú
1. **PLAN**: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
2. **CREATIVE**: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
3. **IMPLEMENT**: –ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
4. **QA**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
5. **REFLECT**: –ê–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üéØ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò MVP
- [ ] 4-5 –∏–≥—Ä–æ–∫–æ–≤ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ —Å—Å—ã–ª–∫–µ
- [ ] –ì–æ–ª–æ—Å–æ–≤–∞—è —Å–≤—è–∑—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [ ] –ò–ò-–º–∞—Å—Ç–µ—Ä –≤–µ–¥–µ—Ç —Å—Ü–µ–Ω—ã –∏ –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- [ ] –õ–∏—á–Ω—ã–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- [ ] –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- [ ] –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç $2-6

## üîÑ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°
**BUILD PHASE** - –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Tool Calling (Phase 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞)

## ‚úÖ –ü–†–û–ì–†–ï–°–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –î–µ–Ω—å 1-2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å TypeScript –∏ TailwindCSS
- [x] –°–æ–∑–¥–∞–Ω Fastify –±—ç–∫–µ–Ω–¥ —Å TypeScript
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω Docker Compose –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [x] –°–æ–∑–¥–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≥–ª–∞–≤–Ω–∞—è –∏ –∫–æ–º–Ω–∞—Ç–∞)
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω Socket.IO –¥–ª—è real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ API endpoints –¥–ª—è –∫–æ–º–Ω–∞—Ç

### üöÄ –î–µ–Ω—å 3-4: BUILD PHASE - –ò–ò-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**Phase 1: Foundation Phase** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenRouter –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –±—ç–∫–µ–Ω–¥–µ
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ DM –∞–≥–µ–Ω—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞  
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è environment variables –¥–ª—è OpenRouter

**Phase 2: Core Phase** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] –û—Ç–ª–∞–¥–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å OpenRouter API
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Claude 3.5 Sonnet
- [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —á–∞—Ç-–±–æ—Ç–∞ —Å OpenRouter
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è D&D –º–∞—Å—Ç–µ—Ä–∞
- [x] –°–æ–∑–¥–∞–Ω–∏–µ Simple DM Agent —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ API –≤—ã–∑–æ–≤–∞–º–∏

**Phase 3: Extension Phase** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [x] –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (tool calling) –¥–ª—è roll_dice
- [x] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å tool calls
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ DM —Ä–æ—É—Ç–∞–º–∏

**Phase 4: Integration Phase** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å –Ω–æ–≤—ã–º API
- [x] –°–æ–∑–¥–∞–Ω–∏–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —á–∞—Ç–∞ —Å Tool Calling
- [x] End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞ —Å tool calling
- [x] API –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Next.js
- [x] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–≥—Ä—ã —Å –ò–ò-–º–∞—Å—Ç–µ—Ä–æ–º

**Phase 5: Finalization Phase** ‚ö° –°–õ–ï–î–£–Æ–©–ò–ô
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ò–ò-—Å–∏—Å—Ç–µ–º—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≥–æ–ª–æ—Å–æ–≤–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üñ•Ô∏è –î–ï–¢–ê–õ–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –§–†–û–ù–¢–ï–ù–î –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `/frontend/src/types/index.ts` - –¢–∏–ø—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DM API –∏ Tool Calling
- `/frontend/src/utils/api.ts` - API –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ò–ò-–º–∞—Å—Ç–µ—Ä–æ–º
- `/frontend/src/hooks/useGameChat.ts` - React —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º —á–∞—Ç–æ–º
- `/frontend/src/components/GameChat/GameChat.tsx` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
- `/frontend/src/components/GameChat/index.ts` - –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `/frontend/src/app/room/[id]/page.tsx` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GameChat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
- `/frontend/src/app/api/dm/` - API proxy routes –¥–ª—è Next.js

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–∞—Ç —Å –ò–ò-–º–∞—Å—Ç–µ—Ä–æ–º
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è tool calls (–±—Ä–æ—Å–∫–æ–≤ –∫—É–±–∏–∫–æ–≤)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### API Routes:
- `GET /api/dm/tools` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö
- `POST /api/dm/reply` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ò–ò-–º–∞—Å—Ç–µ—Ä—É
- `POST /api/dm/reply-stream` - –°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –ò–ò-–º–∞—Å—Ç–µ—Ä–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–Ω–∞—Ç—É
- –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π)
- –ò–≥—Ä–æ–≤–æ–π —á–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π tool calls
- –ü–∞–Ω–µ–ª–∏ –∏–≥—Ä–æ–∫–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å –ò–ò-–º–∞—Å—Ç–µ—Ä–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥: http://localhost:3000 - —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –ë—ç–∫–µ–Ω–¥: http://localhost:8000 - —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ API proxy: /api/dm/tools - —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Üî –±—ç–∫–µ–Ω–¥ ‚Üî Claude 3.5 Sonnet - —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Tool Calling —á–µ—Ä–µ–∑ UI - –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
```

**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø**: Phase 5 - Enhancement & Finalization
**üéØ –ü–õ–ê–ù**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ + UX/UI —É–ª—É—á—à–µ–Ω–∏—è + –∞–Ω–∏–º–∞—Ü–∏–∏
**üìã –ë–†–ò–§–ò–ù–ì**: –°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤ `memory-bank/phase5-enhancement-briefing.md`
**üéâ –î–û–°–¢–ò–ñ–ï–ù–ò–ï**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å Tool Calling —Å–∏—Å—Ç–µ–º–æ–π!
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~2-3 —á–∞—Å–∞
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–≥—Ä—ã —Å –ò–ò-–º–∞—Å—Ç–µ—Ä–æ–º –≥–æ—Ç–æ–≤.

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- [x] Backend –ø–∞–¥–µ–Ω–∏–µ –∏–∑-–∑–∞ pino-pretty - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É–ø—Ä–æ—â–µ–Ω–∏–µ–º –ª–æ–≥–≥–µ—Ä–∞
- [x] 404 –æ—à–∏–±–∫–∏ API routes - –¥–æ–±–∞–≤–ª–µ–Ω—ã Next.js API routes –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ lockfiles - –æ—á–∏—â–µ–Ω–æ, –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –∫–æ—Ä–Ω–µ–≤–æ–π
- [x] Next.js –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ turbo –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
- ‚úÖ Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ http://localhost:8000  
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –≤ –∫–æ–º–Ω–∞—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞
- ‚úÖ Tool Calling —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

**–ì–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É**: Phase 4 - Integration Phase

## üîß –î–ï–¢–ê–õ–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò TOOL CALLING

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `/backend/src/services/tools/diceRoller.ts` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –±—Ä–æ—Å–∫–æ–≤ –∫—É–±–∏–∫–æ–≤
- `/backend/src/services/tools/index.ts` - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `/backend/src/services/llm/openrouter.ts` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Tool Calling
- `/backend/src/services/llm/dmAgent.ts` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- `/backend/src/routes/dm.ts` - –ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–æ—Ä–º—É–ª –∫—É–±–∏–∫–æ–≤ (1d20+5, 3d6, 2d8-1)
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±—Ä–æ—Å–∫–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ä–∞–∑–±–∏–≤–∫–æ–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude 3.5 Sonnet —á–µ—Ä–µ–∑ OpenRouter
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `GET /api/dm/tools` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö
- `POST /api/dm/test-tools` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Tool Calling —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
‚úÖ –¢–µ—Å—Ç 1: "–ë—Ä–æ—Å–∞–π –∑–∞ –º–µ–Ω—è d20 –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –í–æ—Å–ø—Ä–∏—è—Ç–∏—è"
   Tool call: roll_dice(1d20) -> [6] = 6
   –û—Ç–≤–µ—Ç –ò–ò: "—Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—Ä–æ—Å–∫–∞ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–∏–∑–∫–∏–π (6)"

‚úÖ –¢–µ—Å—Ç 2: "–ú–Ω–µ –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∏—Ç—å 3d6 –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫"
   Tool call: roll_dice(3d6) -> [4, 2, 2] = 8
   –û—Ç–≤–µ—Ç –ò–ò: "–†–µ–∑—É–ª—å—Ç–∞—Ç –±—Ä–æ—Å–∫–∞ - 8. –≠—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–∏–∑–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"

‚úÖ –°—Ç—Ä–∏–º–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç (–±–µ–∑ tool calls –≤ —Å—Ç—Ä–∏–º–µ)
```

## üìã –í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –ü–û OPENROUTER - –ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù–û

### ‚úÖ –ü–æ–ª—É—á–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- [x] –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (baseURL, API key, headers)
- [x] –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏: `"anthropic/claude-3.5-sonnet"`
- [x] Streaming responses –∏ SSE –æ–±—Ä–∞–±–æ—Ç–∫–∞
- [x] Tool calling –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- [x] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (tool_choice, parallel_tool_calls)
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–ª–∞–¥–∫–∞

### üìÅ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤:
`memory-bank/openrouter-integration.md` - –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–ª—è —ç—Ç–∞–ø–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û:
**–ü–†–ò –õ–Æ–ë–´–• –í–û–ü–†–û–°–ê–• –ü–û OPENROUTER API - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –°–ü–†–ê–®–ò–í–ê–¢–¨ –£ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø!**
**–ù–ï –ì–ê–î–ê–¢–¨ –ò –ù–ï –î–û–î–£–ú–´–í–ê–¢–¨!**

### üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Phase 4:
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ OpenRouter –∏–∑—É—á–µ–Ω–∞ –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞  
- ‚úÖ –ò–ò-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tool Calling –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ –í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ Tool Calling –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø**: Phase 4 - Integration Phase (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
